<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <th:block th:replace="~{home/layout::custom-css}"></th:block>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
</head>
<body>
<th:block th:replace="~{home/layout::header}"></th:block>
<div>
    <section>
        <div class="hero-section">
            <div class="container">
                <div id="iphoneCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div th:each="iphone: ${iphones}" class="carousel-item active">
                            <div class="hero-block">
                                <img th:src="${iphone.imageUrl}"
                                     class="img-fluid"
                                     th:alt="${iphone.name}"
                                     style="height: 600px; object-fit: contain;" />
                                <div class="hero-contents">
                                    <h1 class="hero-title" th:text="${iphone.name}">iPhone Name</h1>
                                    <p class="hero-paragraph" th:text="${iphone.description}">iPhone Description</p>
                                    <a class="hero-a" href="">
                                        <div class="hero-buttons">Buy now</div>
                                        <div> <img class="hero-icon" src="./image/icon/Icon.svg" alt=""></div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button class="carousel-control-prev" type="button" data-bs-target="#iphoneCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#iphoneCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>
    </section>
    <section>
        <div class="container">
            <div class="_3fr-column-grip">
                <div class="feature-card">
                    <img
                            src="https://cdn.prod.website-files.com/65f0219f664a58453bb579a5/6603f311eff828b190c534a1_delivery-truck%201.png"
                            alt="">
                    <div class="w-layout-vflex _10px-gap">
                        <div class="_20px-bold-title">Delivery from 30 min</div>
                        <p> Object select list clip clip star selection plugin component opacity. Line inspect object auto</p>
                    </div>
                </div>
                <div class="feature-card">
                    <img
                            src="https://cdn.prod.website-files.com/65f0219f664a58453bb579a5/6603f3112074495a156839e9_high-quality%201.png"
                            alt="">
                    <div class="w-layout-vflex _10px-gap">
                        <div class="_20px-bold-title">Quality assurance</div>
                        <p> Object select list clip clip star selection plugin component opacity. Line inspect object auto</p>
                    </div>
                </div>
                <div class="feature-card">
                    <img
                            src="https://cdn.prod.website-files.com/65f0219f664a58453bb579a5/6603f3112074495a156839e9_high-quality%201.png"
                            alt="">
                    <div class="w-layout-vflex _10px-gap">
                        <div class="_20px-bold-title">100% Secure Payment</div>
                        <p> Object select list clip clip star selection plugin component opacity. Line inspect object auto</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="section">
        <div class="container">
            <div class="_2-column-grid">
                <div class="feature-banner">
                    <img class="feature-card-image"
                         src="https://cdn1.viettelstore.vn/images/Product/ProductImage/medium/iPhone-16-Pro-Series-Desert11345601058.jpg"
                         alt=""
                         style="width: auto; height: 300px">
                    <div class="contents">
                        <div class="content-title">IPhone 16 Pro Max</div>
                        <p class="content-a">iPhone 16 Pro Max 256GB của nhà Apple đã chính thức ra mắt với hàng loạt tính năng và công nghệ đột phá, gam màu Titan Sa Mạc mới ấn tượng, cụm camera được nâng cấp lên 48MP với hiệu năng mạnh mẽ.</p>
                        <a class="hero-contents-a" href="/shop">
                            <div class="hero-button">Buy now</div>
                            <div> <img class="hero-icon" src="./image/icon/Icon.svg" alt=""></div>
                        </a>
                    </div>
                </div>
                <div class="feature-banner">
                    <img class="feature-card-image"
                         src="https://cdn1.viettelstore.vn/Images/Product/ProductImage/2146519032.jpeg"
                         alt=""
                         style="width: auto; height: 300px">>
                    <div class="contents">
                        <div class="content-title">IPhone 15 Pro Max</div>
                        <p class="content-a">iPhone 15 Pro Max đem đến cho người dùng đa dạng sự lựa chọn với ba phiên bản bộ nhớ trong lần lượt là 256GB/512GB/1TB và bốn lựa chọn màu gồm Titan Tự Nhiên/Titan Trắng/Titan Xanh/Titan Đen. </p>
                        <a class="hero-contents-a" href="/shop">
                            <div class="hero-button">Buy now</div>
                            <div> <img class="hero-icon" src="./image/icon/Icon.svg" alt=""></div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="section">
        <div class="container">
            <div class="product-bar">
                <div class="flex-box">
                    <div class="tab-menu-absolute">
                        <a href="#">New Arrivals</a>
                        <a href="#">Ongoing Offers</a>
                        <a href="#">Featured Products</a>
                        <a href="#">Best Sellers</a>
                    </div>
                    <div class="button-view">
                        <a href="">View All</a>
                    </div>
                </div>
                <div class="_1px-height-border" style="width: 100%; height: 1px;background-color: #d9d9d9; margin-top:10px;">
                </div>
            </div>
            <div  class="_4column-product-grid">
                <div th:each="product: ${products}" class="list-items">
                    <div class="product-cart">
                        <a href=""><img class="product-thumbnail"
                                        th:src="${product.imageUrl}"
                                        th:alt="${product.name}"></a>
                        <div class="product-body">
                            <a class="product-name-on-card " style="text-decoration: none;" href="" th:text="${product.name}"></a>
                            <div style="color: #fdbf60;">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="product-price-block">
                                <div class="card-price" th:text="${product.price}"></div>
                                <div class="_2px-with-divider"></div>
                                <div class="card-compare-prices" th:text="${product.price}">
                                </div>
                            </div>
<!--                            <div class="add-to-card">-->
<!--                                Add to card-->
<!--                            </div>-->
                            <form sec:authorize="isAuthenticated()" th:action="@{/cart/add}" method="post">
                                <input type="hidden" name="productId" th:value="${product.id}" />
                                <button type="submit" class="btn btn-outline-primary">Thêm Vào Giỏ</button>
                            </form>
                            <div class="sale-tag">
                                On sale
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</section>

<section class="section">
    <div class="container">
        <div style="background-color: #fff; ">
            <div class="slider-container">
                <button class="arrow left-arrow">&#8592;</button>
                <div class="slider">
                    <div  class="slide-track">
                        <div th:each="brand: ${brands}">
                            <img th:src="${brand.imageUrl}"
                                 th:alt="${brand.name}" style="width: auto; height: 70px ">
                        </div>
                    </div>
                </div>
                <button class="arrow right-arrow">&#8594;</button>
            </div>
        </div>
    </div>

</section>
<section class="section">
    <div class="container">
        <div id="carouselExample" class="carousel slide">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <div class="testimonial-block">
                        <div class="mask">
                            <img
                                    src="https://cdn.prod.website-files.com/65f0219f664a58453bb579a5/65f2933fa1165d254c22eff3_image.webp"
                                    loading="lazy" width="70"
                                    style="opacity: 1; transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d;"
                                    alt="" data-w-id="5e085088-6ddd-794a-86d8-fb2db269b73d" class="testimonial-image">
                        </div>
                        <div class="mask">
                            <div data-w-id="5e085088-6ddd-794a-86d8-fb2db269b741"
                                 style="opacity: 1; transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d;"
                                 class="_20px-bold-title">Eleanor Pena</div>
                        </div>
                        <div class="mask">
                            <p data-w-id="b4358591-97b4-7210-5094-1e55a84e5fdf"
                               style="opacity: 1; transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d;"
                               class="paragraph-white">Flows boolean stroke font union. Union group overflow fill group edit stroke
                                create. Ellipse component pen hand pen layer plugin distribute comment outline. Distribute rotate
                                community rectangle image flows group outline variant.</p>
                        </div>
                        <div class="mask"><img
                                src="https://cdn.prod.website-files.com/65f0219f664a58453bb579a5/65f2939aae2d27695a809661_quote%20icon.svg"
                                loading="lazy"
                                style="opacity: 1; transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d;"
                                data-w-id="1f8fcf86-aadc-5b57-9748-e46025a8378b" alt="" class="quote-image-svg"></div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="testimonial-block"><img
                            src="https://cdn.prod.website-files.com/65f0219f664a58453bb579a5/65f292e176502af833896f92_Ellipse%20131.webp"
                            loading="lazy" width="70" alt="" class="testimonial-image">
                        <div class="_20px-bold-title">Mark&nbsp;Andrew</div>
                        <p class="paragraph-white">Object select list clip clip star selection plugin component opacity. Line
                            inspect object auto pen hand pen layer plugin distribute comment outline. Distribute rotate community
                            rectangle image flows group outline variant.</p><img
                                src="https://cdn.prod.website-files.com/65f0219f664a58453bb579a5/65f2939aae2d27695a809661_quote%20icon.svg"
                                loading="lazy" alt="" class="quote-image-svg">
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="testimonial-block"><img
                            src="https://cdn.prod.website-files.com/65f0219f664a58453bb579a5/65f292e176502af833896f90_Ellipse%20165%20(1).webp"
                            loading="lazy" width="70" alt="" class="testimonial-image">
                        <div class="_20px-bold-title">Nikolas Austin</div>
                        <p class="paragraph-white">Component invite device library clip. Asset distribute library star pencil
                            layout. Ellipse component pen hand pen layer plugin distribute comment outline. Distribute rotate
                            community rectangle image flows group outline variant.</p><img
                                src="https://cdn.prod.website-files.com/65f0219f664a58453bb579a5/65f2939aae2d27695a809661_quote%20icon.svg"
                                loading="lazy" alt="" class="quote-image-svg">
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
</section>
<section>
    <div class="container">
        <div class="newsletter-block">
            <div class="_10px-gap">
                <div class="_30px-title">Subscribe our newsletter</div>
                <p style="color: #5c728e;">Subscribe to our newsletter for exclusive updates, promotions,<br> and exciting
                    news delivered straight to
                    your inbox!</p>
            </div>
            <div class="subscription-form-block">
                <form class="subscription-form" action=" ">
                    <input class="subscription-mail-input w-input" maxlength="256" name="Newsletter-Email"
                           data-name="Newsletter Email" placeholder="You Email" type="email" id="Newsletter-Email" required="">
                    <input type="submit" data-wait="Please wait..." class="subscription-button w-button" value="Subscribe">
                </form>
            </div>
        </div>
    </div>
</section>
</div>
<th:block th:replace="~{home/layout::footer}"></th:block>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-oBhxCmT+28YBUsm+L9gE2A3RfW03g6cG/BdmdYGJchWoUmTf0gUuXoj8+jwX7A3w" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script type="module">
    import Swiper from 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.mjs'

    const swiper = new Swiper('.swiper', {

        // If we need pagination
        pagination: {
            el: '.swiper-pagination',
        },

        // Navigation arrows
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },

        // And if we need scrollbar

    });
</script>
<script>
    const leftArrow = document.querySelector('.left-arrow');
    const rightArrow = document.querySelector('.right-arrow');
    const slideTrack = document.querySelector('.slide-track');
    const slides = document.querySelectorAll('.slide-track img');

    let position = 0;
    const slideWidth = 170; // width of the logo image + margin

    // Clone first and last slides
    const firstSlide = slides[0];
    const lastSlide = slides[slides.length - 1];
    const firstClone = firstSlide.cloneNode(true);
    const lastClone = lastSlide.cloneNode(true);

    slideTrack.appendChild(firstClone);
    slideTrack.insertBefore(lastClone, firstSlide);

    leftArrow.addEventListener('click', () => {
        position -= slideWidth;
        slideTrack.style.transition = 'transform 0.5s ease';
        slideTrack.style.transform = `translateX(${position}px)`;

        if (position <= -slideWidth * slides.length) {
            setTimeout(() => {
                slideTrack.style.transition = 'none';
                position = 0;
                slideTrack.style.transform = `translateX(${position}px)`;
            }, 500);
        }
    });

    rightArrow.addEventListener('click', () => {
        position += slideWidth;
        slideTrack.style.transition = 'transform 0.5s ease';
        slideTrack.style.transform = `translateX(${position}px)`;

        if (position >= slideWidth) {
            setTimeout(() => {
                slideTrack.style.transition = 'none';
                position = -slideWidth * (slides.length - 1);
                slideTrack.style.transform = `translateX(${position}px)`;
            }, 500);
        }
    });
</script>
</body>
</html>