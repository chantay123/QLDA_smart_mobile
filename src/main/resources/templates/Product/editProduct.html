<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chỉnh sửa sản phẩm</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
</head>
<body>

<div class="container mt-5">
    <h2>Chỉnh sửa sản phẩm</h2>

    <form action="/products/edit/${product.id}" method="post"
          th:action="@{/products/edit/{id}(id=${product.id})}" th:object="${product}">

        <div class="mb-3">
            <label for="name" class="form-label">Tên sản phẩm:</label>
            <input type="text" id="name" name="name" class="form-control"
                   th:field="*{name}" required>
            <div class="text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
        </div>

        <div class="mb-3">
            <label for="description" class="form-label">Mô tả:</label>
            <textarea id="description" name="description" class="form-control"
                      th:field="*{description}"></textarea>
        </div>

        <div class="mb-3">
            <label for="imageUrl" class="form-label">URL hình ảnh:</label>
            <input type="text" id="imageUrl" name="imageUrl" class="form-control"
                   th:field="*{imageUrl}" required>
            <div class="text-danger" th:if="${#fields.hasErrors('imageUrl')}" th:errors="*{imageUrl}"></div>
        </div>

        <div class="mb-3">
            <label for="price" class="form-label">Giá:</label>
            <input type="number" id="price" name="price" class="form-control"
                   th:field="*{price}" required min="0">
            <div class="text-danger" th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></div>
        </div>

        <div class="mb-3">
            <label for="stockQuantity" class="form-label">Số lượng trong kho:</label>
            <input type="number" id="stockQuantity" name="stockQuantity" class="form-control"
                   th:field="*{stockQuantity}" required min="0">
            <div class="text-danger" th:if="${#fields.hasErrors('stockQuantity')}" th:errors="*{stockQuantity}"></div>
        </div>

        <div class="mb-3">
            <label for="storageCapacity" class="form-label">Dung tích lưu trữ:</label>
            <input type="text" id="storageCapacity" name="storageCapacity" class="form-control"
                   th:field="*{storageCapacity}">
        </div>

        <div class="mb-3">
            <label for="color" class="form-label">Màu sắc:</label>
            <input type="text" id="color" name="color" class="form-control"
                   th:field="*{color}">
        </div>

        <div class="mb-3">
            <label for="installmentPeriod" class="form-label">Thời gian trả góp:</label>
            <input type="number" id="installmentPeriod" name="installmentPeriod" class="form-control"
                   th:field="*{installmentPeriod}" min="1">
        </div>

        <div class="mb-3">
            <label for="monthlyPayment" class="form-label">Số tiền hàng tháng:</label>
            <input type="number" id="monthlyPayment" name="monthlyPayment" class="form-control"
                   th:field="*{monthlyPayment}" step="0.01" min="0">
            <div class="text-danger" th:if="${#fields.hasErrors('monthlyPayment')}" th:errors="*{monthlyPayment}"></div>
        </div>

        <div class="mb-3">
            <label for="processor" class="form-label">Bộ xử lý:</label>
            <input type="text" id="processor" name="processor" class="form-control"
                   th:field="*{processor}">
        </div>

        <div class="mb-3">
            <label for="screenSize" class="form-label">Kích thước màn hình:</label>
            <input type="text" id="screenSize" name="screenSize" class="form-control"
                   th:field="*{screenSize}">
        </div>

        <div class="mb-3">
            <label for="releaseDate" class="form-label">Ngày ra mắt:</label>
            <input type="date" id="releaseDate" name="releaseDate" class="form-control"
                   th:field="*{releaseDate}">
        </div>

        <div class="mb-3">
            <label for="brandId" class="form-label">Thương hiệu:</label>
            <select id="brandId" name="brandId" class="form-select" required>
                <option value="">Chọn thương hiệu</option>
                <option th:each="brand : ${brands}"
                        th:value="${brand.id}"
                        th:text="${brand.name}"
                        th:selected="${brand.id == product.brand.id}"></option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Cập nhật sản phẩm</button>
        <a href="/products/list" class="btn btn-secondary">Hủy</a>
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
</body>
</html>
